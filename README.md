API для добавления и поиска квартир в БД
=============================

API реализован на языке Go. 

Выбор сделан в пользу развивающегося и специализированного для многочисленных легких сетевых запросов языка с простым синтаксисом и широкими возможностями по масштабированию и профилированию. Кроме того, выбор языка обусловлен тем, что автор им владеет.

В БД MySql хранятся квартиры. Параметры подключения к БД задаются в конфиге.

Доступны запросы /search и /add.

Структура сущности таблица:
- Город
- Район
- Адрес
- Жилой комплекс (ЖК)
- Корпус
- Всего этажей
- Номер квартиры (только для добавления)
- Этаж
- Комнатность
- Площадь квартиры
- Стоимость аренды


При старте сервиса проверяется подключение, проверяется наличие БД, если нужно - создается. Проверяется наличие таблицы, если нужно - создается.

Сущность квартиры разделена на 3 составляющих сущности: ЖК, корпус, квартира. При добавлении новой квартиры производится поиск ЖК с такими параметрами (если нет, добавляем) и корпуса (если нет, добавляем). Сделано это, чтобы не дублировать повторяющиеся поля, например город и адрес ЖК для всех квартир в доме.

Для добавления квартиры требуется указать ее номер. Это поле добавлено чтобы исключить повторные добавления одной и той же квартиры, то есть служит для идетификации сущности квартиры.

При запросе /search для поиска по числовым полям используется структура
{
  "min":12,
  "max":22, 
  "custom_variants":["12","15","16"]
}
При наличии полей min или max поиск производится по ним, иначе - по полю custom_variants.


Примеры
===
/add
{
  "city":"Москва",
  "district":"Хамовники",
  "address":"Остоженка, 12",
  "residental_compound_name":"Резиденция на Остоженке",
  "corpus_name":"к.1",
  "floors_count":7,
  "apartment_name":"оф. 207",
  "floor":4,
  "rooms_count":1,
  "square":41.5,
  "cost":42000
}

/search
{
  "city":"Москва",
  "district":"Хам",
  "foors_count_range":{"min":5,"max":17},
  "floor_range":{"min":2,"max":5},
  "rooms_count_range":{"custom_variants":["1","2"]},
  "square_range":{"min":35,"max":45},
  "cost_range":{"min":35000,"max":45000}
}






